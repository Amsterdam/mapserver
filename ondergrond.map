#==============================================================================
# Dataset: ondergrond
#
#==============================================================================


MAP
  NAME                      "ondergrond"
  INCLUDE                   "header.inc"

  WEB
    METADATA
      "ows_title"           "ondergrond"
      "ows_abstract"        "ondergrond"
    END
  END

  #-----------------------------------------------------------------------------
  # Layers
  #-----------------------------------------------------------------------------
  
  # --------------------- HISTORISCHE ONDERZOEKEN ----------------------

  LAYER
    NAME                    "historische_onderzoeken"
    DATA                    "geometrie FROM ondergrond_historischeonderzoeken USING srid=28992 USING UNIQUE id"
    PROCESSING              "CLOSE_CONNECTION=DEFER" # Use the same connection for all queried layers because they reside in the same db
    TYPE                    POLYGON
    MINSCALEDENOM           10
    MAXSCALEDENOM           400000

    METADATA
      "wfs_title"           "Historische onderzoeken"
      "wfs_srs"             "EPSG:28992"
      "wfs_abstract"        "Historische onderzoeken Amsterdam"
      "wfs_enable_request"  "*"
      "gml_featureid"       "id"
      "gml_include_items"   "all"
      "wms_title"           "Historische onderzoeken"
      "wms_enable_request"  "*"
      "wms_abstract"        "Historische onderzoeken Amsterdam"
      "wms_srs"             "EPSG:28992"
      "wms_name"            "Historische onderzoeken"
      "wms_format"          "image/png"
      "wms_server_version"  "1.1.1"
      "wms_extent"          "100000 450000 150000 500000"
    END

    LABELITEM               "id"

    CLASS
        NAME                 "historische onderzoeken"
            STYLE
                ANTIALIAS    true
                COLOR        0 153 0
                OPACITY      60
            END
            STYLE
                OUTLINECOLOR  0 153 0
                OPACITY      100
                WIDTH        1
            END
    END
  END

  # --------------------- KABELS EN LEIDINGEN ----------------------

  LAYER
    NAME "kabels_en_leidingen_datatransport"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    METADATA
      "wms_title"   "kabels en leidingen - datatransport"
      "wfs_title"   "kabels en leidingen - datatransport"
    END

    CLASS
        NAME                 "datatransport"
        EXPRESSION           "datatransport"
        STYLE
            COLOR        "#00ff00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels_en_leidingen_gas_hoge_druk"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    METADATA
      "wms_title"   "kabels en leidingen - gas hoge druk"
      "wfs_title"   "kabels en leidingen - gas hoge druk"
    END
    CLASS
        NAME                 "gas hoge druk"
        EXPRESSION           "gas hoge druk"
        STYLE
            COLOR        "#ffd750"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - gas lage druk"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "gas lage druk"
        EXPRESSION           "gas lage druk"
        STYLE
            COLOR        "#ffaf3c"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - buisleiding gevaarlijke inhoud"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "buisleiding gevaarlijke inhoud"
        EXPRESSION           "buisleiding gevaarlijke inhoud"
        STYLE
            COLOR        "#ff7f00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - landelijk hoogspanningsnet"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "landelijk hoogspanningsnet"
        EXPRESSION           "landelijk hoogspanningsnet"
        STYLE
            COLOR        "#ff0000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - hoogspanning"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "hoogspanning"
        EXPRESSION           "hoogspanning"
        STYLE
            COLOR        "#ff0000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - middenspanning"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "middenspanning"
        EXPRESSION           "middenspanning"
        STYLE
            COLOR        "#c80000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - laagspanning"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "laagspanning"
        EXPRESSION           "laagspanning"
        STYLE
            COLOR        "#960000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - chemie"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "(petro)chemie"
        EXPRESSION           "(petro)chemie"
        STYLE
            COLOR        "#b64a00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - riool vrijverval"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "riool vrijverval"
        EXPRESSION           "riool vrijverval"
        STYLE
            COLOR        "#ba38a8"
            SIZE 5
        END
    END
  END
  LAYER
    NAME                 "kabels en leidingen - riool onder over- of onderdruk"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "riool onder over- of onderdruk"
        EXPRESSION           "riool onder over- of onderdruk"
        STYLE
            COLOR        "#800080"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - warmte"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "warmte"
        EXPRESSION           "warmte"
        STYLE
            COLOR        "#008080"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - water"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "water"
        EXPRESSION           "water"
        STYLE
            COLOR        "#0000ff"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - wees"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "wees"
        EXPRESSION           "wees"
        STYLE
            COLOR        "#918a6f"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "kabels en leidingen - overig"
    INCLUDE "ondergrond/kabels_en_leidingen_layer.inc"
    CLASS
        NAME                 "overig"
        EXPRESSION           "overig"
        STYLE
            COLOR        "#6f5c10"
            SIZE 5
        END
    END
  END

  # --------------------- OBJECTEN ----------------------
  LAYER
    NAME "objecten - datatransport"
    INCLUDE "ondergrond/objecten_layer.inc"

    CLASS
        NAME                 "datatransport"
        EXPRESSION           "datatransport"
        STYLE
            SYMBOL "stip"
            COLOR        "#00ff00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - gas hoge druk"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "gas hoge druk"
        EXPRESSION           "gas hoge druk"
        STYLE
            COLOR        "#ffd750"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - gas lage druk"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "gas lage druk"
        EXPRESSION           "gas lage druk"
        STYLE
            COLOR        "#ffaf3c"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - buisleiding gevaarlijke inhoud"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "buisleiding gevaarlijke inhoud"
        EXPRESSION           "buisleiding gevaarlijke inhoud"
        STYLE
            COLOR        "#ff7f00"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - landelijk hoogspanningsnet"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "landelijk hoogspanningsnet"
        EXPRESSION           "landelijk hoogspanningsnet"
        STYLE
            COLOR        "#ff0000"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - hoogspanning"
    INCLUDE "ondergrond/objecten_layer.inc"
    METADATA
      "wms_title"   "stinkie"
    END
    CLASS
        NAME                 "hoogspanning"
        EXPRESSION           "hoogspanning"
        STYLE
            COLOR        "#ff0000"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - middenspanning"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "middenspanning"
        EXPRESSION           "middenspanning"
        STYLE
            COLOR        "#c80000"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - laagspanning"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "laagspanning"
        EXPRESSION           "laagspanning"
        STYLE
            COLOR        "#960000"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - chemie"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "(petro)chemie"
        EXPRESSION           "(petro)chemie"
        STYLE
            COLOR        "#b64a00"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - riool vrijverval"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "riool vrijverval"
        EXPRESSION           "riool vrijverval"
        STYLE
            COLOR        "#ba38a8"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME                 "objecten - riool onder over- of onderdruk"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "riool onder over- of onderdruk"
        EXPRESSION           "riool onder over- of onderdruk"
        STYLE
            COLOR        "#800080"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - warmte"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "warmte"
        EXPRESSION           "warmte"
        STYLE
            COLOR        "#008080"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - water"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "water"
        EXPRESSION           "water"
        STYLE
            COLOR        "#0000ff"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - wees"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "wees"
        EXPRESSION           "wees"
        STYLE
            COLOR        "#918a6f"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "objecten - overig"
    INCLUDE "ondergrond/objecten_layer.inc"
    CLASS
        NAME                 "overig"
        EXPRESSION           "overig"
        STYLE
            COLOR        "#6f5c10"
            SYMBOL "stip"
            SIZE 5
        END
    END
  END

  # --------------------- EISVOORZORGSMAATREGELEN ----------------------
  
  LAYER
    NAME "eisvoorzorgsmaatregelen - datatransport"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"

    CLASS
        NAME                 "datatransport"
        EXPRESSION           "datatransport"
        STYLE
            COLOR        "#00ff00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - gas hoge druk"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "gas hoge druk"
        EXPRESSION           "gas hoge druk"
        STYLE
            COLOR        "#ffd750"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - gas lage druk"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "gas lage druk"
        EXPRESSION           "gas lage druk"
        STYLE
            COLOR        "#ffaf3c"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - buisleiding gevaarlijke inhoud"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "buisleiding gevaarlijke inhoud"
        EXPRESSION           "buisleiding gevaarlijke inhoud"
        STYLE
            COLOR        "#ff7f00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - landelijk hoogspanningsnet"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "landelijk hoogspanningsnet"
        EXPRESSION           "landelijk hoogspanningsnet"
        STYLE
            COLOR        "#ff0000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - hoogspanning"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "hoogspanning"
        EXPRESSION           "hoogspanning"
        STYLE
            COLOR        "#ff0000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - middenspanning"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "middenspanning"
        EXPRESSION           "middenspanning"
        STYLE
            COLOR        "#c80000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - laagspanning"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "laagspanning"
        EXPRESSION           "laagspanning"
        STYLE
            COLOR        "#960000"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - chemie"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "(petro)chemie"
        EXPRESSION           "(petro)chemie"
        STYLE
            COLOR        "#b64a00"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - riool vrijverval"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "riool vrijverval"
        EXPRESSION           "riool vrijverval"
        STYLE
            COLOR        "#ba38a8"
            SIZE 5
        END
    END
  END
  LAYER
    NAME                 "eisvoorzorgsmaatregelen - riool onder over- of onderdruk"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "riool onder over- of onderdruk"
        EXPRESSION           "riool onder over- of onderdruk"
        STYLE
            COLOR        "#800080"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - warmte"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "warmte"
        EXPRESSION           "warmte"
        STYLE
            COLOR        "#008080"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - water"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "water"
        EXPRESSION           "water"
        STYLE
            COLOR        "#0000ff"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - wees"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "wees"
        EXPRESSION           "wees"
        STYLE
            COLOR        "#918a6f"
            SIZE 5
        END
    END
  END
  LAYER
    NAME "eisvoorzorgsmaatregelen - overig"
    INCLUDE "ondergrond/eisvoorzorgsmaatregelen_layer.inc"
    CLASS
        NAME                 "overig"
        EXPRESSION           "overig"
        STYLE
            COLOR        "#6f5c10"
            SIZE 5
        END
    END
  END

  # ------------------------- RIOOLKNOPEN ---------------------------[
  LAYER
    NAME                    "rioolknopen"
    DATA                    "geometrie FROM leidingeninfrastructuur_waternet_rioolknopen USING srid=7415 USING UNIQUE id"
    PROCESSING              "CLOSE_CONNECTION=DEFER" # Use the same connection for all queried layers because they reside in the same db
    TYPE                    POLYGON
    MINSCALEDENOM           10
    MAXSCALEDENOM           400000

    METADATA
      "wfs_title"           "Historische onderzoeken"
      "wfs_srs"             "EPSG:28992"
      "wfs_abstract"        "Historische onderzoeken Amsterdam"
      "wfs_enable_request"  "*"
      "gml_featureid"       "id"
      "gml_include_items"   "all"
      "wms_title"           "Historische onderzoeken"
      "wms_enable_request"  "*"
      "wms_abstract"        "Historische onderzoeken Amsterdam"
      "wms_srs"             "EPSG:28992"
      "wms_name"            "Historische onderzoeken"
      "wms_format"          "image/png"
      "wms_server_version"  "1.1.1"
      "wms_extent"          "100000 450000 150000 500000"
    END

    LABELITEM               "id"

    CLASS
        NAME                 "historische onderzoeken"
            STYLE
                ANTIALIAS    true
                COLOR        0 153 0
                OPACITY      60
            END
            STYLE
                OUTLINECOLOR  0 153 0
                OPACITY      100
                WIDTH        1
            END
    END
  END

END