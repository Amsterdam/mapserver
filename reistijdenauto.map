MAP
  NAME "REISTIJDENAUTO"
  INCLUDE "header.inc"

  WEB
    METADATA
      "ows_title"    "reistijdenauto"
      "ows_abstract" "Reistijden per auto omgeving Amsterdam"
      "wms_extent"          "100000 450000 150000 500000"
    END
  END

# Color ramp from Colorbrewer 2.0 (http://colorbrewer2.org/)
#ffffe5  # skip, too light
#f7fcb9  # skip, too light
#d9f0a3
#addd8e
#78c679
#41ab5d
#238443
#006837
#004529

  #=============================================================================
  # LAYERS
  #=============================================================================

  LAYER
    NAME            "reistijdenauto" #snelwegen
    INCLUDE         "connection_reistijdenauto.inc"
    DATA            "mline FROM public.dataset_wegstuk USING srid=28992 USING UNIQUE id"
    TYPE            LINE
    MINSCALEDENOM   100
    MAXSCALEDENOM   400001
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    PROJECTION
      "init=epsg:28992"
    END

    METADATA
      "ows_title"           "reistijdenauto"
      "ows_group_title"     "reistijdenauto"
      "ows_abstract"        "Reistijden per auto regio Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
      "gml_types"           "auto"
    END



    CLASS
      NAME "0 tot 20 km/h - snelweg"
      EXPRESSION ((([velocity] >= 0) AND ([velocity] < 20)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#be0000"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END   
    END

    CLASS
      NAME "20 tot 40 km/h - snelweg"
      EXPRESSION ((([velocity] >= 20) AND ([velocity] < 40)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#ff0000"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "40 tot 60 km/h - snelweg"
      EXPRESSION ((([velocity] >= 40) AND ([velocity] < 60)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#ff9e00"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "60 tot 80 km/h - snelweg"
      EXPRESSION ((([velocity] >= 60) AND ([velocity] < 80)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#ffff00"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "80 tot 100 km/h - snelweg"
      EXPRESSION ((([velocity] >= 80) AND ([velocity] < 100)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#aaff00"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "100 tot 120 km/h - snelweg"
      EXPRESSION ((([velocity] >= 100) AND ([velocity] < 120)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#00b22d"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "120 tot 140 km/h - snelweg"
      EXPRESSION ((([velocity] >= 120) AND ([velocity] < 140)) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#00b22d"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "meer dan 140 km/h - snelweg"
      EXPRESSION (([velocity] >= 140) AND ("[type]" = "H"))
      STYLE
        WIDTH 8
        OUTLINECOLOR "#00b22d"
        LINECAP BUTT
        LINEJOIN MITER
        PATTERN 8.0 1.0 END
      END
    END

    CLASS
      NAME "0 km/h"
      EXPRESSION (([velocity] < 0) AND ("[type]" = "H"))
      STYLE
        WIDTH 1
        OUTLINECOLOR "#999999"
        LINECAP BUTT
        LINEJOIN MITER
      END
    END

  END
END
