#==============================================================================
#
# eigendommen.map
# doel: serveren van eigendommen
#
#==============================================================================

MAP
  NAME "EIGENDOMMEN"
  INCLUDE "header.inc"


  WEB
    METADATA
      "ows_title"    "EIGENDOMMEN"
      "ows_abstract" "Kadastrale eigendommen, gecategoriseerd"
    END
  END

  #=============================================================================
  # LAYERS
  #=============================================================================

  LAYER
    NAME            "eigendomvlak_1"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "poly_geom FROM public.brk_eigendom_point_mat USING srid=28992 USING UNIQUE id"
    TYPE            POLYGON
    MINSCALEDENOM   100
    MAXSCALEDENOM   3000
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    PROJECTION
    "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendomvlak"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    CLASS
      NAME          Bouwblok
      STYLE
       ANTIALIAS    true
       OUTLINECOLOR 10 205 10
       WIDTH        2
      END
    END

  END

  #=============================================================================

  LAYER
    NAME            "eigendomvlak"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "poly_geom FROM brk_eigendommen_mat USING srid=28992 USING UNIQUE id"
    TYPE            POLYGON
    MINSCALEDENOM   100
    MAXSCALEDENOM   3000
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    PROJECTION
    "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendomvlak"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    CLASS
      NAME          Bouwblok
      STYLE
       ANTIALIAS    true
       OUTLINECOLOR 0 150 255
       WIDTH        2
      END
    END

  END

  #=============================================================================

  LAYER
    NAME            "eigendompunt_1"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "geometrie FROM public.brk_eigendom_point_mat USING srid=28992 USING UNIQUE id"
    TYPE            POINT
    MINSCALEDENOM   100
    MAXSCALEDENOM   3000
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    STATUS          OFF

    PROJECTION
      "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendompunt_1"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    CLASS
      EXPRESSION ([aantal] < 10)
      STYLE
        SYMBOL         "stip"
        SIZE           20
        OUTLINECOLOR   10 205 10
        COLOR          10 205 10
        WIDTH          1
      END
    END

    CLASS
      EXPRESSION ([aantal] > 9 and [aantal] < 100)
      STYLE
        SYMBOL         "stip"
        SIZE           30
        OUTLINECOLOR   10 205 10
        COLOR          10 205 10
        WIDTH          1
      END
    END

    CLASS
      EXPRESSION ([aantal] > 99 and [aantal] < 1000)
      STYLE
        SYMBOL         "stip"
        SIZE           40
        OUTLINECOLOR   10 205 10
        COLOR          10 205 10
        WIDTH          1
      END
    END

    CLASS
      EXPRESSION ([aantal] > 999 and [aantal] < 10000)
      STYLE
        SYMBOL         "stip"
        SIZE           50
        OUTLINECOLOR   10 205 10
        COLOR          10 205 10
        WIDTH          1
      END
    END

    CLASS
      EXPRESSION ([aantal] > 9999)
      STYLE
        SYMBOL         "stip"
        SIZE           60
        OUTLINECOLOR   10 205 10
        COLOR          10 205 10
        WIDTH          1
      END
    END

  END

  #=============================================================================

  LAYER
    NAME            "eigendompunt_1_label"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "geometrie FROM public.brk_eigendom_point_mat USING srid=28992 USING UNIQUE id"
    TYPE            POINT
    MINSCALEDENOM   100
    MAXSCALEDENOM   3000
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    STATUS          OFF

    PROJECTION
      "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendompunt_1_label"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    LABELITEM          "aantal"

    CLASS
      EXPRESSION ([aantal] < 10)
      LABEL
        COLOR          0  0  0
        OUTLINECOLOR   255 255 255
        OUTLINEWIDTH   3
        FONT           "Ubuntu-M"
        TYPE           truetype
        SIZE           10
        POSITION       AUTO
        PARTIALS       FALSE
        OFFSET         -3 -4
        ANTIALIAS      true
        ALIGN          center
      END
    END

    CLASS
      EXPRESSION ([aantal] > 9 and [aantal] < 100)
      LABEL
        COLOR          0  0  0
        OUTLINECOLOR   255 255 255
        OUTLINEWIDTH   3
        FONT           "Ubuntu-M"
        TYPE           truetype
        SIZE           10
        POSITION       AUTO
        PARTIALS       FALSE
        OFFSET         -7 -4
        ANTIALIAS      true
        ALIGN          center
      END
    END

    CLASS
      EXPRESSION ([aantal] > 99 and [aantal] < 1000)
      LABEL
        COLOR          0  0  0
        OUTLINECOLOR   255 255 255
        OUTLINEWIDTH   3
        FONT           "Ubuntu-M"
        TYPE           truetype
        SIZE           10
        POSITION       AUTO
        PARTIALS       FALSE
        OFFSET         -11 -4
        ANTIALIAS      true
        ALIGN          center
      END
    END

    CLASS
      EXPRESSION ([aantal] > 999 and [aantal] < 10000)
      LABEL
        COLOR          0  0  0
        OUTLINECOLOR   255 255 255
        OUTLINEWIDTH   3
        FONT           "Ubuntu-M"
        TYPE           truetype
        SIZE           10
        POSITION       AUTO
        PARTIALS       FALSE
        OFFSET         -15 -4
        ANTIALIAS      true
        ALIGN          center
      END
    END

    CLASS
      EXPRESSION ([aantal] > 9999)
      LABEL
        COLOR          0  0  0
        OUTLINECOLOR   255 255 255
        OUTLINEWIDTH   3
        FONT           "Ubuntu-M"
        TYPE           truetype
        SIZE           10
        POSITION       AUTO
        PARTIALS       FALSE
        OFFSET         -19 -4
        ANTIALIAS      true
        ALIGN          center
      END
    END
  END
  #=============================================================================

  LAYER
    NAME            "eigendomvlak_g1"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "geometrie FROM public.brk_eigendom_point_niet_poly_mat USING srid=28992 USING UNIQUE id"
    TYPE            POLYGON
    MINSCALEDENOM   3001
    MAXSCALEDENOM   300001
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    PROJECTION
    "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendomvlak"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    CLASS
      NAME          Bouwblok
      STYLE
       ANTIALIAS    true
       OUTLINECOLOR 10 205 10
       WIDTH        2
      END
    END

  END

  #-----------------------------------------------------------------------------

  LAYER
    NAME            "eigendomvlak_g"
    GROUP           "eigendommen"
    INCLUDE         "connection.inc"

    VALIDATION
      # %categorie% substitutions can only have letters
	  'default_categorie' '1'
      'categorie'     '^[0-9]$'
    END

    DATA            "geometrie FROM brk_eigendom_poly_mat USING srid=28992 USING UNIQUE id"
    TYPE            POLYGON
    MINSCALEDENOM   3001
    MAXSCALEDENOM   300001
    TEMPLATE        "fooOnlyForWMSGetFeatureInfo.html"
    PROJECTION
    "init=epsg:28992"
    END

    FILTER ("[cat_id]" = '%categorie%')

    METADATA
      "ows_title"           "eigendomvlak"
      "ows_group_title"     "eigendommen"
      "ows_abstract"        "Eigendommen van de gemeente Amsterdam"
      "gml_featureid"       "ID"
      "gml_include_items"   "all"
    END

    CLASS
      NAME          Bouwblok
      STYLE
       ANTIALIAS    true
       OUTLINECOLOR 0 150 255
       WIDTH        2
      END
    END

  END

  #=============================================================================

END
